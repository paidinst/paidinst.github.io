
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<link href="https://solar.lowtechmagazine.com/icons/favicon.png" rel="icon" type="image/png"/>
<title>LOW←TECH MAGAZINE</title>
<link href="https://solar.lowtechmagazine.com/theme/css/style.min.css?0350c5be" rel="stylesheet"/>
<meta content="LOW←TECH MAGAZINE" property="og:title">
<meta content="LOW←TECH MAGAZINE" name="twitter:title"/>
<meta content="summary" name="twitter:card">
<meta content="https://solar.lowtechmagazine.com" property="og:url"/>
<meta content="Low-tech Magazine refuses to assume that every problem has a high-tech solution. A simple, sensible, but nevertheless controversial message; high-tech has become the idol of our society." property="og:description"/>
<meta content="Low-tech Magazine refuses to assume that every problem has a high-tech solution. A simple, sensible, but nevertheless controversial message; high-tech has become the idol of our society." property="twitter:description"/>
<meta content="LOW←TECH MAGAZINE" property="og:site_name">
<meta content="Kris De Decker" property="og:article:author">
<meta content="https://solar.lowtechmagazine.com/icons/sun.png" property="og:image"/>
<meta content="https://solar.lowtechmagazine.com/icons/sun.png" name="twitter:image"/>
<link href="https://solar.lowtechmagazine.com/feeds/all.atom.xml" rel="alternate" title="LOW←TECH MAGAZINE Full Atom Feed" type="application/atom+xml"> <link href="https://solar.lowtechmagazine.com/feeds/all.rss.xml" rel="alternate" title="LOW←TECH MAGAZINE Full RSS Feed" type="application/rss+xml">
</link></link></meta></meta></meta></meta></head>
<body class="index1">
<div class="bat_status" data-charging="no" id="bat_data">
<a href="https://solar.lowtechmagazine.com/power.html" title="Power">
<span id="charge_icon">
<svg class="icon battery-svg" viewbox="0 0 500 500"><title>Battery used</title><polygon class="svg_stroke" points="327.01 127.16 327.01 47.31 172.99 47.31 172.99 127.16 115.52 127.16 115.52 452.69 384.48 452.69 384.48 127.16 327.01 127.16"></polygon><polygon class="svg_fill" points="357.64 408.86 158.26 408.86 158.26 209.49 357.64 408.86"></polygon></svg>
<svg class="icon sun-svg" viewbox="0 0 500 500"><title>Battery charging</title><circle class="svg_fill" cx="248.48" cy="252.55" r="97.03"></circle><rect class="svg_fill" height="112.39" width="27.9" x="234.53" y="17.45"></rect><rect class="svg_fill" height="112.39" width="27.9" x="234.53" y="375.25"></rect><rect class="svg_fill" height="112.39" transform="translate(679.92 -174.83) rotate(90)" width="27.9" x="413.42" y="196.35"></rect><rect class="svg_fill" height="112.39" transform="translate(322.12 182.97) rotate(90)" width="27.9" x="55.63" y="196.35"></rect><rect class="svg_fill" height="112.39" transform="translate(198.96 -228.23) rotate(45)" width="27.9" x="361.03" y="69.85"></rect><rect class="svg_fill" height="112.39" transform="translate(303.75 24.77) rotate(45)" width="27.9" x="108.03" y="322.85"></rect><rect class="svg_fill" height="112.39" transform="translate(908.15 381.93) rotate(135)" width="27.9" x="361.03" y="322.85"></rect><rect class="svg_fill" height="112.39" transform="translate(297.35 128.93) rotate(135)" width="27.9" x="108.03" y="69.85"></rect></svg>
</span>
<span id="level"></span></a>
</div>
<div id="battery">
</div>
<main>
<header class="top">
<h1><a href="https://solar.lowtechmagazine.com/">LOW←TECH MAGAZINE</a></h1>
<div class="subtitle">
<a href="https://solar.lowtechmagazine.com/power.html">This is a solar-powered website, which means it sometimes goes offline <svg class="icon" viewbox="0 0 500 500"><title>Solar</title><circle class="svg_fill" cx="248.48" cy="252.55" r="97.03"></circle><rect class="svg_fill" height="112.39" width="27.9" x="234.53" y="17.45"></rect><rect class="svg_fill" height="112.39" width="27.9" x="234.53" y="375.25"></rect><rect class="svg_fill" height="112.39" transform="translate(679.92 -174.83) rotate(90)" width="27.9" x="413.42" y="196.35"></rect><rect class="svg_fill" height="112.39" transform="translate(322.12 182.97) rotate(90)" width="27.9" x="55.63" y="196.35"></rect><rect class="svg_fill" height="112.39" transform="translate(198.96 -228.23) rotate(45)" width="27.9" x="361.03" y="69.85"></rect><rect class="svg_fill" height="112.39" transform="translate(303.75 24.77) rotate(45)" width="27.9" x="108.03" y="322.85"></rect><rect class="svg_fill" height="112.39" transform="translate(908.15 381.93) rotate(135)" width="27.9" x="361.03" y="322.85"></rect><rect class="svg_fill" height="112.39" transform="translate(297.35 128.93) rotate(135)" width="27.9" x="108.03" y="69.85"></rect></svg></a>
</div>
<nav id="menu">
<div id="menu-s">
      menu
    </div>
<ul id="menu-list">
<li><a href="https://solar.lowtechmagazine.com/about.html">About</a></li>
<li class="low"><a class="category" href="https://solar.lowtechmagazine.com/low-tech-solutions.html">Low-tech Solutions</a></li>
<li class="hig"><a class="category" href="https://solar.lowtechmagazine.com/high-tech-problems.html">High-tech Problems</a></li>
<li class="obs"><a class="category" href="https://solar.lowtechmagazine.com/obsolete-technology.html">Obsolete Technology</a></li>
<li><a href="https://solar.lowtechmagazine.com/offline-reading.html">Offline Reading</a></li>
<li><a href="https://solar.lowtechmagazine.com/archives.html">Archive</a></li>
<li><a href="https://solar.lowtechmagazine.com/donate.html">Donate</a></li>
<li class="social"><a href="https://solar.lowtechmagazine.com/feeds/all-en.atom.xml" rel="alternate" target="_blank" type="application/atom+xml"><svg class="icon" viewbox="0 0 80 80"><title>rss</title><circle cx="19.91" cy="58.23" r="6.86"></circle><path d="M67.89,65.72H55.7A41.86,41.86,0,0,0,13.89,23.91V11.73A54.06,54.06,0,0,1,67.89,65.72Z"></path><path d="M48.93,65.72H36.75A22.88,22.88,0,0,0,13.89,42.87V30.68A35.08,35.08,0,0,1,48.93,65.72Z"></path></svg></a></li>
</ul>
</nav>
<!-- /#menu -->
<div id="lang-dot" title="en">
<svg class="icon" id="globe" viewbox="0 0 19.97 19.97" xmlns="http://www.w3.org/2000/svg"><circle class="stroke" cx="9.99" cy="9.99" r="9.24"></circle><ellipse class="stroke" cx="9.99" cy="9.99" rx="4.63" ry="9.24"></ellipse><line class="stroke" x1="9.99" x2="9.99" y1="0.75" y2="19.22"></line><line class="stroke" x1="18.39" x2="1.58" y1="12.99" y2="12.99"></line><line class="stroke" x1="18.39" x2="1.58" y1="6.99" y2="6.99"></line></svg>
</div>
<nav id="languages">
<ul>
<li class="lang active-lang"><a class="lang-option" href="https://solar.lowtechmagazine.com/" title="en">en</a></li>
<li class="lang"><a class="lang-option" href="https://solar.lowtechmagazine.com/es/" title="es">es</a></li>
<li class="lang"><a class="lang-option" href="https://solar.lowtechmagazine.com/fr/" title="fr">fr</a></li>
<li class="lang"><a class="lang-option" href="https://solar.lowtechmagazine.com/nl/" title="nl">nl</a></li>
<li class="lang"><a class="lang-option" href="https://solar.lowtechmagazine.com/de/" title="de">de</a></li>
<li class="lang"><a class="lang-option" href="https://solar.lowtechmagazine.com/pl/" title="pl">pl</a></li>
<li class="lang"><a class="lang-option" href="https://solar.lowtechmagazine.com/it/" title="it">it</a></li>
<li class="lang"><a class="lang-option" href="https://solar.lowtechmagazine.com/pt/" title="pt">pt</a></li>
<li class="lang"><a class="lang-option" href="https://solar.lowtechmagazine.com/ko/" title="ko">ko</a></li>
<li class="lang"><a class="lang-option" href="https://solar.lowtechmagazine.com/ar/" title="ar">ar</a></li>
<li class="lang"><a class="lang-option" href="https://solar.lowtechmagazine.com/vn/" title="vn">vn</a></li>
</ul>
<!--     English
 Español
 Français
 Nederlands
 Deutsche
 Polskie -->
</nav>
</header>
<section id="content">
<!-- Latest article feature -->
<ul class="cols cover low">
<li>
<a href="https://solar.lowtechmagazine.com/2022/03/how-to-build-bike-generator.html" rel="bookmark" title="Permalink to How to Build a Practical Household Bike Generator"><h2 class="entry-title">How to Build a Practical Household Bike Generator</h2></a>
<a class="category" href="https://solar.lowtechmagazine.com/low-tech-solutions.html">Low-tech solutions</a>
<p class="index-summary">We built a pedal-powered generator and controller, which is practical to use as an energy source and exercise machine in a household — and which you can integrate into a solar <span class="caps">PV</span> system. We provide detailed plans to build your own, using basic skills and common hand tools.</p>
<time class="published" datetime="2022-03-06T00:00:00+01:00">March 2022</time>
</li>
<li>
<a href="https://solar.lowtechmagazine.com/2022/03/how-to-build-bike-generator.html" rel="bookmark" title="Permalink to How to Build a Practical Household Bike Generator"><div class="featured-img" style="background-image: url('https://solar.lowtechmagazine.com//dithers/Bike-generator-living-room.png');">
</div></a>
</li>
</ul>
<!-- Recent Articles -->
<ul class="cols recent">
<li class="obs">
<article>
<a href="https://solar.lowtechmagazine.com/2022/01/the-revenge-of-the-hot-water-bottle.html" rel="bookmark" title="Permalink to The Revenge of the Hot Water Bottle">
<div class="featured-img" style="background-image: url('https://solar.lowtechmagazine.com//dithers/hot-water-bottles-bar-terrace.png');"></div>
<h2 class="entry-title">The Revenge of the Hot Water Bottle</h2></a>
<a class="category" href="https://solar.lowtechmagazine.com/obsolete-technology.html">Obsolete Technology</a>
<p class="index-summary">Imagine a personal heating system that works indoors as well as outdoors, can be taken anywhere, requires little energy, and is independent of any infrastructure. It exists – and is hundreds of years old.</p>
<time class="published" datetime="2022-01-20T00:00:00+01:00">January 2022</time>
</article>
</li>
<li class="low">
<article>
<a href="https://solar.lowtechmagazine.com/2021/12/printed-website-third-volume.html" rel="bookmark" title="Permalink to The Printed Website: Volume III &amp; The Comments">
<div class="featured-img" style="background-image: url('https://solar.lowtechmagazine.com//dithers/all-four-books.png');"></div>
<h2 class="entry-title">The Printed Website: Volume <span class="caps">III</span> <span class="amp">&amp;</span> The Comments</h2></a>
<a class="category" href="https://solar.lowtechmagazine.com/low-tech-solutions.html">Low-tech solutions</a>
<p class="index-summary">The printed archives of Low-tech Magazine now amount to four volumes with a total of 2,398 pages and 709 images.</p>
<time class="published" datetime="2021-12-02T00:00:00+01:00">December 2021</time>
</article>
</li>
<li class="obs">
<article>
<a href="https://solar.lowtechmagazine.com/2021/11/fascine-mattresses-basketry-gone-wild.html" rel="bookmark" title="Permalink to Fascine Mattresses: Basketry Gone Wild">
<div class="featured-img" style="background-image: url('https://solar.lowtechmagazine.com//dithers/AfzinkenStevinsluizen.png');"></div>
<h2 class="entry-title">Fascine Mattresses: Basketry Gone Wild</h2></a>
<a class="category" href="https://solar.lowtechmagazine.com/obsolete-technology.html">Obsolete Technology</a>
<p class="index-summary">Around the 17th century, the Dutch started reinforcing their dykes and harbours with sturdy mats the size of football pitches – hand-woven from thousands of twigs grown on nearby coppice plantations. These “fascine mattresses” were weighted with rocks and sunk into canals, estuaries, and rivers.</p>
<time class="published" datetime="2021-11-03T00:00:00+01:00">November 2021</time>
</article>
</li>
<li class="low">
<article>
<a href="https://solar.lowtechmagazine.com/2021/10/how-to-build-a-low-tech-solar-panel.html" rel="bookmark" title="Permalink to How to Build a Low-tech Solar Panel?">
<div class="featured-img" style="background-image: url('https://solar.lowtechmagazine.com//dithers/COVE-1910.png');"></div>
<h2 class="entry-title">How to Build a Low-tech Solar Panel?</h2></a>
<a class="category" href="https://solar.lowtechmagazine.com/low-tech-solutions.html">Low-tech solutions</a>
<p class="index-summary">George Cove, a forgotten solar power pioneer, may have built a highly efficient photovoltaic panel 40 years before Bell Labs engineers invented silicon cells. If proven to work, his design could lead to less complex and more sustainable solar panels.</p>
<time class="published" datetime="2021-10-05T00:00:00+02:00">October 2021</time>
</article>
</li>
<li class="low">
<article>
<a href="https://solar.lowtechmagazine.com/2021/05/how-to-design-a-sailing-ship-for-the-21st-century.html" rel="bookmark" title="Permalink to How to Design a Sailing Ship for the 21st Century?">
<div class="featured-img" style="background-image: url('https://solar.lowtechmagazine.com//dithers/Garthsnaid_-_SLV_H91.250-933.png');"></div>
<h2 class="entry-title">How to Design a Sailing Ship for the 21st Century?</h2></a>
<a class="category" href="https://solar.lowtechmagazine.com/low-tech-solutions.html">Low-tech solutions</a>
<p class="index-summary">It is surprisingly difficult to build a carbon neutral sailing ship. This is even more the case today, because our standards for safety, health, hygiene, comfort, and convenience have changed profoundly since the Age of Sail.</p>
<time class="published" datetime="2021-05-11T00:00:00+02:00">May 2021</time>
</article>
</li>
<li class="obs">
<article>
<a href="https://solar.lowtechmagazine.com/2021/03/urban-fish-ponds-low-tech-sewage-treatment-for-towns-and-cities.html" rel="bookmark" title="Permalink to Urban Fish Ponds: Low-tech Sewage Treatment for Towns and Cities">
<div class="featured-img" style="background-image: url('https://solar.lowtechmagazine.com//dithers/edwards_2008.png');"></div>
<h2 class="entry-title">Urban Fish Ponds: Low-tech Sewage Treatment for Towns and Cities</h2></a>
<a class="category" href="https://solar.lowtechmagazine.com/obsolete-technology.html">Obsolete Technology</a>
<p class="index-summary">In the mid 20th century, whole cities’ sewage systems safely and successfully used fish to treat and purify their water. Waste-fed fish ponds are a low-tech, cheap, and sustainable alternative to deal with our own shit — and to obtain high protein food in the process.</p>
<time class="published" datetime="2021-03-28T00:00:00+01:00">March 2021</time>
</article>
</li>
<li class="hig">
<article>
<a href="https://solar.lowtechmagazine.com/2021/02/how-sustainable-is-high-tech-health-care.html" rel="bookmark" title="Permalink to How Sustainable is High-tech Health Care?">
<div class="featured-img" style="background-image: url('https://solar.lowtechmagazine.com//dithers/the-surgeon.png');"></div>
<h2 class="entry-title">How Sustainable is High-tech Health Care?</h2></a>
<a class="category" href="https://solar.lowtechmagazine.com/high-tech-problems.html">High-tech Problems</a>
<p class="index-summary">Can we make modern health care carbon-neutral and maintain the levels of care, pain relief, and longevity that we have come to take for granted?</p>
<time class="published" datetime="2021-02-18T00:00:00+01:00">February 2021</time>
</article>
</li>
<li class="hig">
<article>
<a href="https://solar.lowtechmagazine.com/2021/02/vertical-farming-ecosystem-services.html" rel="bookmark" title="Permalink to Vertical Farming Does not Save Space">
<div class="featured-img" style="background-image: url('https://solar.lowtechmagazine.com//dithers/vertical-farm.png');"></div>
<h2 class="entry-title">Vertical Farming Does not Save Space</h2></a>
<a class="category" href="https://solar.lowtechmagazine.com/high-tech-problems.html">High-tech problems</a>
<p class="index-summary">If the electricity for a vertical farm is supplied by solar panels, the energy production takes up at least as much space as the vertical farm saves.</p>
<time class="published" datetime="2021-02-16T00:00:00+01:00">February 2021</time>
</article>
</li>
<li class="hig">
<article>
<a href="https://solar.lowtechmagazine.com/2020/12/how-and-why-i-stopped-buying-new-laptops.html" rel="bookmark" title="Permalink to How and Why I Stopped Buying New Laptops">
<div class="featured-img" style="background-image: url('https://solar.lowtechmagazine.com//dithers/X60-on-its-side-white.png');"></div>
<h2 class="entry-title">How and Why I Stopped Buying New Laptops</h2></a>
<a class="category" href="https://solar.lowtechmagazine.com/high-tech-problems.html">High-tech Problems</a>
<p class="index-summary">As a freelance journalist – or an office worker if you wish – I have always believed that I should regularly buy a new laptop. But older machines offer more quality for much less money.</p>
<time class="published" datetime="2020-12-20T00:00:00+01:00">December 2020</time>
</article>
</li>
<li class="obs">
<article>
<a href="https://solar.lowtechmagazine.com/2020/09/how-to-make-biomass-energy-sustainable-again.html" rel="bookmark" title="Permalink to How to Make Biomass Energy Sustainable Again">
<div class="featured-img" style="background-image: url('https://solar.lowtechmagazine.com//dithers/pollards-germany.png');"></div>
<h2 class="entry-title">How to Make Biomass Energy Sustainable Again</h2></a>
<a class="category" href="https://solar.lowtechmagazine.com/obsolete-technology.html">Obsolete Technology</a>
<p class="index-summary">From the Neolithic to the beginning of the twentieth century, coppiced woodlands, pollarded trees, and hedgerows provided people with a sustainable supply of energy, materials, and food.</p>
<time class="published" datetime="2020-09-20T00:00:00+02:00">September 2020</time>
</article>
</li>
<li class="low">
<article>
<a href="https://solar.lowtechmagazine.com/2020/05/thermoelectric-stoves-ditch-the-solar-panels.html" rel="bookmark" title="Permalink to Thermoelectric Stoves: Ditch the Solar Panels?">
<div class="featured-img" style="background-image: url('https://solar.lowtechmagazine.com//dithers/thermoelectric-stove-intro.png');"></div>
<h2 class="entry-title">Thermoelectric Stoves: Ditch the Solar Panels?</h2></a>
<a class="category" href="https://solar.lowtechmagazine.com/low-tech-solutions.html">Low-tech Solutions</a>
<p class="index-summary">Wood stoves equipped with thermoelectric generators can produce electricity that is more sustainable, more reliable, and less costly than power from solar <span class="caps">PV</span> panels.</p>
<time class="published" datetime="2020-05-26T00:00:00+02:00">May 2020</time>
</article>
</li>
<li class="obs">
<article>
<a href="https://solar.lowtechmagazine.com/2020/04/fruit-trenches-cultivating-subtropical-plants-in-freezing-temperatures.html" rel="bookmark" title="Permalink to Fruit Trenches: Cultivating Subtropical Plants in Freezing Temperatures">
<div class="featured-img" style="background-image: url('https://solar.lowtechmagazine.com//dithers/citrus-trenches-touapse.png');"></div>
<h2 class="entry-title">Fruit Trenches: Cultivating Subtropical Plants in Freezing Temperatures</h2></a>
<a class="category" href="https://solar.lowtechmagazine.com/obsolete-technology.html">Obsolete Technology</a>
<p class="index-summary">During the first half of the twentieth century, Soviet citrologists grew (sub)tropical plants in temperatures as low as minus 30 degrees Celsius – outdoors, and without the use of glass or any fossil fuel-powered assistance.</p>
<time class="published" datetime="2020-04-16T00:00:00+02:00">April 2020</time>
</article>
</li>
</ul>
<!-- /posts-list -->
</section>
<!-- /#content -->
<div class="paginator">
    page 1 / 10
        <a href="https://solar.lowtechmagazine.com/index2.html">»</a>
</div>
<footer class="body" id="content-info">
<h2>
<a href="https://solar.lowtechmagazine.com/">LOW←TECH MAGAZINE</a>
</h2>
<div class="dashboard">
<ul class="cols">
<li>
<h3>Server Stats</h3>
<dl id="stats">
</dl>
</li>
<li>
<h3>Forecast</h3>
<div class="forecast"></div>
</li>
<li>
<h3>Info</h3>
<p>
<a href="https://solar.lowtechmagazine.com/about.html">About the site</a><br/>
<a href="https://solar.lowtechmagazine.com/power.html">Power</a><br/>
<a href="https://solar.lowtechmagazine.com/colophon.html">Colophon</a><br/>
<a href="https://solar.lowtechmagazine.com/donate.html">Donate</a>
</p>
<p><a href="https://solar.lowtechmagazine.com/privacy.html">Privacy Policy</a></p>
</li>
<li>
<h3>Contact</h3>
<p>
          © Kris De Decker<br/>
        solar [at] lowtechmagazine [dot] com</p>
<div class="social">
<a href="https://solar.lowtechmagazine.com/feeds/all-en.atom.xml" rel="alternate" target="_blank" type="application/atom+xml"><svg class="icon" viewbox="0 0 80 80"><title>rss</title><circle cx="19.91" cy="58.23" r="6.86"></circle><path d="M67.89,65.72H55.7A41.86,41.86,0,0,0,13.89,23.91V11.73A54.06,54.06,0,0,1,67.89,65.72Z"></path><path d="M48.93,65.72H36.75A22.88,22.88,0,0,0,13.89,42.87V30.68A35.08,35.08,0,0,1,48.93,65.72Z"></path></svg></a>
<a href="https://twitter.com/lowtechmagazine" target="_blank"><svg class="icon" viewbox="0 0 80 80"><title>twitter</title><path d="M65.05,29.23c0,.56,0,1.12,0,1.68,0,17.1-13,36.8-36.8,36.8A36.54,36.54,0,0,1,8.44,61.91a26.68,26.68,0,0,0,3.12.16,25.9,25.9,0,0,0,16.06-5.53,13,13,0,0,1-12.09-9,16.28,16.28,0,0,0,2.44.2,13.67,13.67,0,0,0,3.4-.44A12.93,12.93,0,0,1,11,34.64v-.16a13,13,0,0,0,5.85,1.64,13,13,0,0,1-4-17.3A36.76,36.76,0,0,0,39.51,32.36a14.58,14.58,0,0,1-.32-3,12.95,12.95,0,0,1,22.38-8.85,25.45,25.45,0,0,0,8.21-3.12,12.9,12.9,0,0,1-5.69,7.13,25.93,25.93,0,0,0,7.45-2A27.79,27.79,0,0,1,65.05,29.23Z"></path></svg></a>
<a href="https://d69baa34.sibforms.com/serve/MUIEAJWIw9w82Dl4ua6FQArPaI-3Qb-zVTwPNabHQgFH51MiGF69Smy9LOC_HPoUmBj0emaXsXT87gcQXDPvtu-AZsJCHWhkkv21CdrcQu4GdnYAhZ-MrIPhwGDecagLzYxqfvkaqXg2ODcbJU4ByoDmzJK3ZTczDo2jcWtfn-En0MGKLVkgxx9TgdHqYoPabMJCMF-agLEclEwv" target="_blank"><svg class="icon" viewbox="0 0 80 80"><title>email</title><path d="M4.95,13.14v55H74.33v-55Zm54.34,8.12L39.64,39.74,20,21.26ZM13.07,60V25.91l26.56,25,26.57-25V60Z"></path></svg></a>
</div>
<!-- /.social -->
</li>
</ul>
</div>
</footer><div id="page-size">670.79KB</div>
</main>
<script>
var url = "https://solar.lowtechmagazine.com/api/stats.json";
var data;
var solar_stats = [];
var battery_stats = [];
var general_stats = [];

function loadJSON(callback) {

    var request = new XMLHttpRequest();
    request.overrideMimeType("application/json");
    request.open('GET', url, true);
    request.onreadystatechange = function() {
        if (request.readyState == 4 && request.status == "200") {
            callback(request.responseText);
        }
    };
    request.send(null);
}

loadJSON(function(response) {
    // Parse JSON string into object
    data = JSON.parse(response);
    // console.log(data);
    setupBatteryMeter(data);
    populateDashboard(data);
    populateForecast(data);

    if (window.location.href.indexOf('power.html') > -1) {
        //load general stats on power page
        populateData(data);
    }
});

function setupBatteryMeter(data) {
    //setup visible battery level
    var level = data.charge;
    var indicator = document.getElementById('bat_data');
    document.getElementById('battery').style.height = level + '%';
    indicator.style.top = 100 - parseInt(level) + "vh";

    if (data.charging == "no") {
        // battery is draining, show battery level
        document.getElementById('level').textContent = level;
    } else {
        // sun is out!
        indicator.setAttribute('data-charging', 'yes');
    }

}

function pushData(arr) {
    // returns a list of dt/dd pairs from a two-dimensional array
    var stats = [];
    for (i = 0; i < arr.length; i++) {
        stats.push("<dt>" + arr[i][0] + "</dt><dd>" + arr[i][1] + "</dd>");
    }
    return stats;
}

function populateData(data) {
    var load = ((data.load_15 / 2) * 100).toFixed(2) + '%';

    var general_stats = [
        ["Local time", data.local_time],
        ["Uptime", data.uptime],
        ["Power usage", data.W],
        ["Current draw", data.A],
        ["Voltage", data.V],
        ["CPU temperature", data.temperature + "°C"],
        ["CPU load average *", load],
        ["Solar panel active", data.charging],
        ["Battery capacity", data.charge + "%"]
    ];

    var dl = document.getElementById('server');
    dl.innerHTML = pushData(general_stats).join("");
}


function populateForecast(data) {
    var weather_ignore = ["snow", "sleet", "wind", "fog"]; //because Barcelona is paradise
    var weather_data = ["today", "tomorrow", "day_after_t"];
    var weather_days = ["today", "tomorrow", "day after tomorrow"];
    var forecast = "";

    for (i = 0; i < weather_data.length; i++) {
        var key = weather_data[i]; //for each day
        var icon_name = key + "_icon"; //today_icon, etc
        var text = data[key]; //weather description
        var weather_icon;
        //use cloud icon for all overcast weather
        if (weather_ignore.includes(data[icon_name])) {
            weather_icon = "cloudy";
        } else {
            weather_icon = data[icon_name];
        }
        forecast += '<span class="weather_day" id="' + key + '" title="' + text + '">' + weather_days[i] + '</span><span class="weather_icon ' + weather_icon + '"> </span><span class="weather_text"> ' + text + '</span>';
    }

    var weatherinfo = document.querySelectorAll('.forecast');

    [].forEach.call(weatherinfo, function(target) {
        target.innerHTML = forecast;
    });
}

function populateDashboard(data) {
    var bat_text = "";

    if(data.charging=='no'){
      bat_text = data.charge + "%, not charging";
    }else{
      bat_text = "charging";
    }

    var footer_data = [
      ['Location', 'Barcelona'],
      ['Time', data.local_time],
      ['Battery status', bat_text],
      ['Power used', data.W],
      ['Uptime', data.uptime]
    ];

    document.getElementById('stats').innerHTML = pushData(footer_data).join("");
}

//language menu toggle
var langmenu = document.getElementById('lang-dot');
langmenu.addEventListener('click', function() {
    console.log('togglelanguages');
    document.getElementById('languages').classList.toggle("lang-expanded");
});

//mobile menu toggle
var mobilemenu = document.getElementById('menu-s');
mobilemenu.addEventListener('click', function() {
    console.log('togglemenu');
    document.getElementById('menu-list').classList.toggle("show");
});

//show hide comments
var comments = document.getElementById("comment-list");
if(comments){
    var comment_title = document.getElementById('comments');
    comment_title.addEventListener('click', function() {
        console.log('togglecomments');
        document.getElementById('comments').classList.toggle("expanded");
        comments.classList.toggle("show");
    });

    //add comment count into comment title
    var comment_headers = document.getElementsByTagName("h5");
    comment_title.innerHTML += '&nbsp;('+comment_headers.length+')';
}


//Remove TYPOGRIFY NBSP;s in headers
// var headings = document.querySelectorAll('h1');
// [].forEach.call(headings, function(target) {
//     target.innerHTML = target.innerHTML.replace(/&nbsp;/g, ' ');
// });






</script></body>
</html>
